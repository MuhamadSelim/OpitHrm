// Generated by CoffeeScript 1.6.3
(function() {
  $(document).data('notes', {});

  $.extend(true, $(document).data('notes'), {
    funcs: {
      deleteAction: function(title, message, url, identifier) {
        if ($(identifier).find(':checked').length > 0) {
          return $('<div></div>').html('Are you sure you want to delete the ' + message + '?').dialog({
            title: title,
            buttons: {
              Yes: function() {
                $.ajax({
                  method: 'POST',
                  url: url,
                  data: $(identifier).serialize()
                }).done(function(data) {
                  $(identifier).find(':checked').parent().parent().parent().remove();
                }).fail(function() {
                  return $('<div></div>').html('The ' + message + ' could not be deleted due to an error.').dialog({
                    title: 'Error'
                  });
                });
                $(this).dialog('close');
              },
              No: function() {
                $(identifier + ' input:checkbox').attr('checked', false);
                $(this).dialog('close');
              }
            },
            close: function() {
              $(this).dialog('destroy');
            }
          });
        }
      }
    }
  });

}).call(this);
