// Generated by CoffeeScript 1.7.1
(function() {
  var inverse;

  $(document).ready(function() {
    return $('#main-wrapper').on('click', '.delete-leave-request', function(event) {
      var $deleteButton, leaveRequestId;
      event.preventDefault();
      $deleteButton = $(this);
      leaveRequestId = $deleteButton.data('request');
      return $('<div id="dialog-show-details-tr"></div>').html("Are you sure you want to delete leave request " + leaveRequestId + "?").dialog({
        title: '<i class="fa fa fa-exclamation-triangle"></i> Delete leave request',
        width: 550,
        maxHeight: $(window).outerHeight() - 100,
        modal: true,
        buttons: {
          Yes: function() {
            return $.ajax({
              method: 'POST',
              url: $deleteButton.attr('href'),
              data: {
                'id': $deleteButton.data('id')
              }
            }).done(function(data) {
              $('#dialog-show-details-tr').dialog('destroy');
              $deleteButton.closest('tr').remove();
            });
          },
          No: function() {
            $('#dialog-show-details-tr').dialog('destroy');
          }
        }
      });
    });
  });

  inverse = false;

  $('form').on('click', '.fa-sort', function() {
    return inverse = $(document).data('notes').funcs.clientSideListOrdering($(this), inverse);
  });

  $('form').on('click', '.order-text', function() {
    return inverse = $(document).data('notes').funcs.clientSideListOrdering($(this).parent().find('i'), inverse);
  });

}).call(this);
