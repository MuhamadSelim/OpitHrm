// Generated by CoffeeScript 1.7.1
(function() {
  var $form, url;

  $form = $('#searchFormWrapper').find('form');

  url = $form.attr('action');

  $('#searchButton').click(function(event) {
    event.preventDefault();
    if (!$form.formIsEmpty()) {
      return;
    }
    $.ajax({
      method: 'POST',
      url: url,
      data: $form.serialize()
    }).done(function(response) {
      $('#list-table').parent().html(response);
      $(document).data('notes').funcs.initListPageListeners();
      $(document).data('notes').funcs.initPager();
    });
  });

  $('#resetButton').click(function() {
    $.ajax({
      method: 'POST',
      url: url,
      data: {
        'resetForm': true,
        'showList': 1
      }
    }).done(function(response) {
      $('#list-table').parent().html(response);
      $(document).data('notes').funcs.initPager();
    });
  });

  $('#searchFormTitle').click(function() {
    if (!$(this).next().is(':animated')) {
      $(this).children('i').toggleClass('fa-chevron-down');
      return $(this).next().slideToggle();
    }
  });

}).call(this);
